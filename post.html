<!doctype html>
<html lang="en">

<head>
    <title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css_framework/styles.css">
    <link rel="stylesheet" href="css_framework/post.css">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/1a57f12784.js"></script>
    <!--PhotoSwipe-->
    <link rel="stylesheet" href="photoswipe/photoswipe.css">
    <link rel="stylesheet" href="photoswipe/default-skin/default-skin.css">
    <script src="photoswipe/photoswipe.min.js"></script>
    <script src="photoswipe/photoswipe-ui-default.min.js"></script>
    <!--End-->
    <style>
        .pswp__img {
            object-fit: cover;
        }
    </style>
    <link href="https://fonts.googleapis.com/css?family=Pacifico&display=swap" rel="stylesheet">
</head>

<body>
    <div class="top-menu color blue">
        <div class="wrapper">
            <h1 class="title"><a href="#">estate.lk</a></h1>
            <div class="search">
                <input type="text" placeholder="i. e. kotte">
                <i class="fas fa-search"></i>
            </div>
            <ul>
                <li><a href="#">Login</a></li>
                <li><a href="#">Sign Up</a></li>
            </ul>
        </div>
    </div>
 
    <div class="wrapper">
        <div class="main-post">
            <div class="header">
                <div>
                    <a href="#"><i class="fas fa-long-arrow-alt-left"></i> Go Back</a>
                    <span style="opacity: 0.5;">
                        <span>Home > </span>
                        <span>For Sale > </span>
                        <span>KK</span>
                    </span>
                </div>
                <h2 class="place">Colombo, 8 <span>Available For Sale Now</span></h2>
                <div class="place-sub">Naaranhenpita, Katugasthota</div>
                <div class="price">Rs. 12,124,412</div>
            </div>
            <div class="post-img-display">
               <div><img src="imgs/img1.jpg" alt=""></div>
               <div><img src="imgs/img2.jpg" alt=""></div>
               <div><img src="imgs/img3.jpg" alt=""></div>
               <div><img src="imgs/img4.jpg" alt=""></div>
            </div>
            <div class="info-bar">
                <div class="left">
                    <div class="info-item">
                        <i class="fab fa-accessible-icon"></i>
                        <span>2 Rooms</span>
                    </div>
                    <div class="info-item">
                        <i class="fab fa-accessible-icon"></i>
                        <span>2 Baths</span>
                    </div>
                    <div class="info-item">
                        <i class="fab fa-accessible-icon"></i>
                        <span>2 Floors</span>
                    </div>
                    <div class="info-item">
                        <i class="fab fa-accessible-icon"></i>
                        <span>2120 sqft</span>
                    </div>
                </div>
                <div class="right"><button class="btn-contact-agent">Contact Agent</button></div>
            </div>
            <div class="post-content">
                <div class="description">
                    <h3>Description</h3>
                    <div class="text">
                        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Dolorem beatae ex rem, aliquid cumque perferendis voluptatibus excepturi vel non, magnam ipsam at harum voluptatum aliquam vero architecto quia. Nisi nobis rerum eligendi nihil in quaerat molestias nulla dolor quae optio, impedit enim non a at magni aliquam reprehenderit nam nemo. Quaerat saepe ab, facere optio soluta veritatis? Deserunt odit porro atque magni assumenda est! Eius provident maxime officia id non eligendi consequuntur rem itaque facere doloremque. Expedita fugiat delectus autem nihil, soluta dignissimos libero eum vero perferendis aperiam sequi saepe officia eligendi ipsa error nulla, reiciendis ipsam possimus, necessitatibus placeat? Consectetur, maxime. Officia ipsam voluptate laudantium magni ipsa ratione. Id adipisci recusandae iste tenetur perspiciatis autem sunt molestias rerum ducimus ipsa. Nam, non mollitia eveniet, quia earum voluptatibus quod esse ullam id ducimus iusto quam tenetur. Id voluptatum, at ipsam, obcaecati quia expedita ipsa sequi ratione sint doloribus velit aliquam dicta quis illo vel provident labore doloremque corporis! Nemo excepturi tempore impedit beatae eius vel aperiam alias molestias doloribus, sequi quis labore a, praesentium enim ut iusto non odit, facilis atque. Eos earum molestias veritatis ea soluta laudantium consequatur vel? Qui animi tenetur eligendi. Repudiandae molestias quibusdam doloribus optio assumenda.
                    </div>
                </div>
                <div class="features">
                    <h3>Features</h3>
                    <div class="items">
                        <div class="item">
                            <div>Asking Pric</div>
                            <div>sdfks</div>
                        </div>
                        <div class="item">
                            <div>No of Rooms</div>
                            <div>No of Bedrooms</div>
                        </div>
                        <div class="item">
                            <div>No of Bathrooms</div>
                            <div>sdfkssdfks</div>
                        </div>
                        <div class="item">
                            <div>No of Floors</div>
                            <div>sdfkssdfks</div>
                        </div>
                        <div class="item">
                            <div>Floor sqft</div>
                            <div>sdfkssdfks</div>
                        </div>
                         <div class="item">
                            <div>Plot Area</div>
                            <div>sdfkssdfks</div>
                        </div>
                         <div class="item">
                            <div>Location</div>
                            <div>sdfkssdfks</div>
                        </div>
                         <div class="item">
                            <div>Year Built</div>
                            <div>sdfkssdfks</div>
                        </div>
                         <div class="item">
                            <div>Roof Type</div>
                            <div>sdfkssdfks</div>
                        </div>
                        <div class="item">
                            <div>Type of Home</div>
                            <div>sdfkssdfks</div>
                        </div>
                        <div class="item">
                            <div>Garage</div>
                            <div>sdfkssdfks</div>
                        </div>
                    </div>
                </div>

                <!--<div id="map"></div>-->
           </div>
        </div>
    </div>

    <div id="map2">
            <iframe
            width="100%"
            height="500px"
            frameborder="0" style="border:0"
            src="https://www.google.com/maps/embed/v1/place?key=AIzaSyA_L7xjFtY-VGDgC1Nbzx8aV41ZKeXO0is
                &q=Space+Needle,Seattle+WA" allowfullscreen>
            </iframe>
    </div>
    <div class="btn-contact-agent">
        <div class="wrapper">
            <button style="position: relative; left: 50%; transform: translate(-50%);">Contact Agent</button>
        </div>
    </div>


    <style>
        #map{
            width: 100%;
            height: 400px;
            margin: 10px 0;
            padding: 0;
        }
    </style>

    <div class="footer">
        <div class="wrapper">
            <div class="lists">
                <div class="social-media">
                        <i class="fab fa-instagram"></i>
                        <i class="fab fa-facebook-square"></i>
                        <i class="fab fa-twitter-square"></i> 
                </div>
                <ul>
                    <li class="header">ABOUT</li>
                    <li><a href="">About Us</a></li>
                    <li>What is estate.lk?</li>
                    <li>Contact Us</li>
                </ul>
                <ul>
                    <li class="header">SUPPORT</li>
                    <li>Common Questions</li>
                    <li>Contact Us</li>
                </ul>
                <ul>
                    <li class="header">ESTATE.LK</li>
                    <li>List Your House With Us</li>
                    <li><a href="">Affiliates</a></li>
                    <li><a href="">Are You an Agent?</a></li>
                </ul>
           </div>
        </div>
    </div>

    <!--PhotoSwipe-->
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

        <!-- Background of PhotoSwipe. 
            It's a separate element as animating opacity is faster than rgba(). -->
        <div class="pswp__bg"></div>

        <!-- Slides wrapper with overflow:hidden. -->
        <div class="pswp__scroll-wrap">

            <!-- Container that holds slides. 
                PhotoSwipe keeps only 3 of them in the DOM to save memory.
                Don't modify these 3 pswp__item elements, data is added later on. -->
            <div class="pswp__container">
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
            </div>

            <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
            <div class="pswp__ui pswp__ui--hidden">

                <div class="pswp__top-bar">

                    <!--  Controls are self-explanatory. Order can be changed. -->

                    <div class="pswp__counter"></div>

                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                    <button class="pswp__button pswp__button--share" title="Share"></button>

                    <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                    <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                    <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                    <!-- element will get class pswp__preloader--active when preloader is running -->
                    <div class="pswp__preloader">
                        <div class="pswp__preloader__icn">
                            <div class="pswp__preloader__cut">
                                <div class="pswp__preloader__donut"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                    <div class="pswp__share-tooltip"></div>
                </div>

                <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
                </button>

                <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
                </button>

                <div class="pswp__caption">
                    <div class="pswp__caption__center"></div>
                </div>

            </div>

        </div>

    </div>
    <!--End-->

    <!--Popup-->
    <div class="popup-wrapper">
        <div class="popup-box">
            <div class="content">
                <h3>Contact Agent</h3>
                <i class="far fa-times-circle"></i>
                <input type="text" placeholder="Your Name">
                <input type="text" placeholder="Phone Number">
                <button>Send</button>
                <div class="info">
                    *One of our agents would contact you as soon as possible
                </div>
            </div>
        </div>
    </div>
    <!--End-->

    <script>
        let btns = document.querySelectorAll('.btn-contact-agent');
        for (let i = 0; i < btns.length; i++) {
            btns[i].addEventListener('click', show_popup);
        }

        function show_popup() {
            let popup = document.querySelector('.popup-wrapper');

            popup.style.visibility = 'visible';
            popup.style.opacity = 1;

        }

        document.querySelector('.popup-wrapper').addEventListener('click', (e) => {
            hide_popup(e);
        });

        function hide_popup(e) {
            let popup = document.querySelector('.popup-wrapper');
            let visibility = getComputedStyle(popup).visibility;


            if (visibility === 'visible') {
                console.log('in sivi');

                let box = popup.querySelector('.popup-box');
                let close_btn = popup.querySelector('i');

                if (!has_parent(box, e.target)) {
                    popup.style.opacity = 0;
                    popup.style.visibility = 'hidden';
                }
            }
        }

        document.querySelector('.popup-box i').addEventListener('click', (e) => {
            let popup = document.querySelector('.popup-wrapper');
            popup.style.visibility = 'hidden';
            popup.style.opacity = 0;
        })

        function has_parent(parent, child) {
            while(child) {
                if (child === parent) 
                    return true;
                child = child.parentElement; 
            }

            return false;
        }

      var map;
      function initMap() {
        console.log('initialiazing map');
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: -34.397, lng: 150.644},
          zoom: 8
        });
      }
    </script>
    <script src="myphotoswipe.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA_tSQaqYiG-M3_NM2Xm4twUFytv-iYOsE&callback=initMap"
    async defer></script>
</body>

</html>